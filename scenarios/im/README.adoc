
. 实时消息推送 一对一，一对多
. 离线消息推送


市场：

. 一对一聊天应用：Facebook Messenger 、Wechat、Whatsapp
. 专注于群聊的office聊天应用：Slack
. 专注于大群体互动和低语音延迟的游戏聊天应用：Discord

聊天应用的类型

. 1对1
. 基于组（群聊）

应用程序类型

. 移动应用程序
. 网络应用

规模（DAU（每日活跃用户））

. 创业应用
. 大规模


聊天应用的功能性需求

. 群组聊天，群成员限制
. 1对1聊天、群聊、在线指示器
. 消息支持类型：文本、语音、视频、文件、图片
. 消息长度限制
. 消息存储机制

通信协议的选择

* HTTP/HTTPS 协议
* Websocket 协议

轮询：一种客户端定期询问服务器是否有可用消息的技术
长轮询
websocket长连接


聊天系统的组成

* 无状态服务（Stateless Service）
* 有状态服务（Stateful Service）
* 第三方集成

聊天系统中的数据类型

* 通用数据：如用户配置文件、设置、用户好友列表
* 聊天历史数据
** 数据量巨大
** 只经常访问最近的聊天，用户通常很少访问历史聊天记录
** 需要支持随机访问数据的功能（如搜索、查看您的提及、跳转到特定消息等）














第一阶段实现功能

. 单服务器
. 一对一聊天
. 小组聊天
. 在线状态
. 多设备支持
. 推送通知



素材

https://www.jianshu.com/p/acd1c0eb08a1[一个通用即时通讯（IM）系统的设计]
